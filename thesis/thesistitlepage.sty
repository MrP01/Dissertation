\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{thesistitlepage}[2020/01/11 IAIK thesis ingredients, extending the official tugrazthesis.sty]

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%   OPTIONS   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newif\iftugraz@nawi\tugraz@nawifalse
\DeclareOption{nawi}{\tugraz@nawitrue}

\newif\iftugraz@iaik\tugraz@iaikfalse
\DeclareOption{iaik}{\tugraz@iaiktrue}

\newif\iftugraz@claim\tugraz@claimfalse
\DeclareOption{claim}{\tugraz@claimtrue}

\newif\iftugraz@diplom\tugraz@diplomfalse
\DeclareOption{diplom}{\tugraz@diplomtrue\tugraz@mscfalse\tugraz@phdfalse}

\newif\iftugraz@msc\tugraz@mscfalse
\DeclareOption{msc}{\tugraz@msctrue\tugraz@diplomfalse\tugraz@phdfalse}

\newif\iftugraz@phd\tugraz@phdfalse
\DeclareOption{phd}{\tugraz@phdtrue\tugraz@mscfalse\tugraz@diplomfalse}

\newif\iftugraz@individual\tugraz@individualfalse
\DeclareOption{individual}{\tugraz@individualtrue}

\newif\iftugraz@informal\tugraz@informalfalse

\newif\iftugraz@bsc\tugraz@bscfalse
\DeclareOption{bsc}{\tugraz@bsctrue\tugraz@informaltrue\tugraz@mscfalse\tugraz@diplomfalse\tugraz@phdfalse}

\newif\iftugraz@project\tugraz@projectfalse
\DeclareOption{project}{\tugraz@projecttrue\tugraz@informaltrue\tugraz@bscfalse\tugraz@mscfalse\tugraz@diplomfalse\tugraz@phdfalse}

\ifdefined\usefamilyofkomafont
  \def\tugraz@titlefont{\usefamilyofkomafont{disposition}}
\else
  \def\tugraz@titlefont{}
\fi
%\newcommand{\thesistitlefont}[1]{\def\tugraz@titlefont{#1}}
%\DeclareOption{sf}{\thesistitlefont{\sffamily}}

\DeclareOption*{
  \PackageWarning{iaikthesis}{Unknown option '\CurrentOption'}
}

%%%   DEFAULT OPTIONS   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ExecuteOptions{msc}
\ProcessOptions\relax

%%%   TUGRAZ COLORS   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\RequirePackage{tikz}
\definecolor{tug}{HTML}{f70146}

%%%   LANGUAGES   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\RequirePackage{iflang}
\providecommand{\germanenglish}[2]{\IfLanguageName{ngerman}{#1}{#2}\null}

%%%   METADATA   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\def\@thesisauthor{\@author}
\newcommand{\thesisauthor}[2][]{\def\@thesisauthor{#2}\if\relax\detokenize{#1}\relax\author{#2}\else\author{#1}\fi}
\def\@thesistitle{\@title}
\newcommand{\thesistitle}[2][]{\def\@thesistitle{#2}\if\relax\detokenize{#1}\relax\title{#2}\else\title{#1}\fi}
\def\@thesisdate{\@date}
\newcommand{\thesisdate}[2][]{\def\@thesisdate{#2}\if\relax\detokenize{#1}\relax\date{#2}\else\date{#1}\fi}
\def\@academicdegree{Master of Science (set with \texttt{\textbackslash academicdegree\{\}})}
\newcommand{\academicdegree}[1]{\def\@academicdegree{#1}}
\def\@degreeprogramme{Name of Degree Programme as in Curriculum (set with \texttt{\textbackslash degreeprogramme\{\}})}
\newcommand{\curriculum}[1]{\def\@degreeprogramme{#1}}
\def\@thesistitleimage{}
\newcommand{\thesistitleimage}[1]{\def\@thesistitleimage{#1}}
\def\@supervisortitle{Supervisor}
\newcommand{\supervisortitle}[1]{\def\@supervisortitle{#1}}
\def\@supervisor{%
  Firstname Lastname, academic degrees of supervisor\\
  up to 2 lines
  \par
  Institute's name\\
  up to 2 lines
  \par
  (set with \texttt{\textbackslash supervisor\{\}})
}
\newcommand{\supervisor}[1]{\def\@supervisor{#1}}
\def\@location{Graz}
\newcommand{\location}[1]{\def\@location{#1}}

%%%   TITLEPAGE   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\@ifpackageloaded{geometry}{}{\RequirePackage[pass]{geometry}}

% Claim
\iftugraz@claim
  \RequirePackage{soul}
  \sodef\sode{}{0.42em}{1em plus1em}{1.3em plus.1em minus.1em}
  \sodef\soen{}{0.45em}{1em plus1em}{1.3em plus.1em minus.1em}
  \newcommand{\minisq}{\raisebox{.5ex}{\tikzset{external/export next=false}\tikz{\fill[black] rectangle +(2pt,2pt);}} }
\fi

% Titlepage
\newcommand{\printthesistitle}{%
\cleardoublepage
\iftugraz@informal\else
  \newgeometry{bottom=2.7cm,left=2.5cm,right=2.5cm,top=1.5cm}
\fi
\thispagestyle{empty}
{%
\centering%
\setlength{\parskip}{.75ex}%
\linespread{1.2}%
%
\noindent
\iftugraz@nawi
  % \nawilogoscaled[46mm]
  \hfill
\fi
\iftugraz@iaik
  %\smash{\raisebox{-24.75mm}{\iaiklogoscaled[11mm]}}
  % \smash{\raisebox{-17.875mm}{\iaiklogoscaled[8.25mm]}}
  %\smash{\raisebox{-11mm}{\iaiklogoscaled[5.5mm]}}
  \smash{\raisebox{-17.875mm}{
      \parbox{8cm}{\vspace*{-2.0cm}\fontsize{30pt}{20pt}\selectfont \textcolor{oxfordblue}{Mathematical\\Institute}}
    }}
  \hfill
\fi
\iftugraz@claim
  \hfill
  \raisebox{2.75mm}{\sffamily\fontsize{8}{10}\selectfont\germanenglish{%
      \sode{WISSEN} \minisq\sode{TECHNIK} \minisq\sode{LEIDENSCHAFT}}{%
      \soen{SCIENCE} \minisq\soen{PASSION} \minisq\soen{TECHNOLOGY}}
  }
  \hskip6mm
\fi
\hfill
% \tuglogoscaled[29mm]
\iftugraz@claim
  \hskip-1cm\null
\else
\fi
\smash{\raisebox{-17.875mm}{
    \includegraphics[height=2cm]{../figures/logos/ox-logo-blue.pdf}
  }}
% \vphantom{\nawilogoscaled[46mm]}
\vskip3cm

{\tugraz@titlefont\fontsize{14pt}{16pt}\selectfont \@thesisauthor \par}
Wolfson College
%\vskip1.5cm
\vskip1.2cm

{\bfseries\tugraz@titlefont\fontsize{20pt}{20pt}\selectfont \@thesistitle \par}
\vfill
\@thesistitleimage
\vfill
\includegraphics[height=4cm]{../figures/logos/ox-crest-colour.pdf}
\vfill

{\bfseries\tugraz@titlefont\fontsize{12pt}{14pt}\selectfont
  \iftugraz@phd \germanenglish{DISSERTATION}{DOCTORAL THESIS} \fi
  \iftugraz@msc \germanenglish{MASTERARBEIT}{MASTER'S THESIS} \fi
  \iftugraz@bsc \germanenglish{BACHELORARBEIT}{BACHELOR'S THESIS} \fi
  \iftugraz@project \germanenglish{PROJEKT}{PROJECT} \fi
  %\iftugraz@bsc \mdseries\scshape\germanenglish{Bachelorarbeit}{Bachelor's Thesis} \fi
  %\iftugraz@project \mdseries\scshape\germanenglish{Projekt}{Project} \fi
  \iftugraz@diplom DIPLOMARBEIT \fi
  \par
}

\iftugraz@informal\else
  % \germanenglish{zur Erlangung des akademischen Grades}{to achieve the university degree of}\par
  {\fontsize{10pt}{12pt}\selectfont a thesis submitted for the degree of\par}
  \@academicdegree
\fi
\iftugraz@phd\else
  \iftugraz@individual
    \vskip.7cm

    Individuelles Masterstudium\par
    \@degreeprogramme
  \else
    \par
    {\fontsize{10pt}{12pt}\selectfont in}
    \par
    % \iftugraz@msc\germanenglish{Masterstudium}{Master's degree programme:} \fi
    % \iftugraz@diplom\germanenglish{Lehramtsstudium}{Teacher training programme:} \fi
    % \iftugraz@bsc\germanenglish{Bachelorstudien}{Bachelor's degree programmes:} \fi
    % \iftugraz@project\germanenglish{Masterstudium}{Master's degree programme:} \fi
    \@degreeprogramme
  \fi
\fi
\iftugraz@informal\else
  \par
  \iftugraz@individual\vskip0.6cm\else\vskip1.0cm\fi

  {\fontsize{10pt}{12pt}\selectfont \germanenglish{eingereicht an der}{submitted to the}\par}
  {\bfseries\tugraz@titlefont\fontsize{12pt}{14pt}\selectfont \germanenglish{Universit√§t Oxford}{University of Oxford}\par}
\fi
\iftugraz@individual\vskip0.8cm\else\vskip1.2cm\fi

{\bfseries\tugraz@titlefont\fontsize{10pt}{12pt}\selectfont\@supervisortitle \par}

{\fontsize{10pt}{12pt}\selectfont \@supervisor \par}
\iftugraz@individual\vskip1.2cm\else\vskip1.4cm\fi

{\fontsize{8pt}{11pt}\selectfont \@location, \@thesisdate \par}
}
\iftugraz@informal\else
  \restoregeometry
\fi
% \cleardoublepage
}

\newcommand{\printaffidavit}{
  \cleardoublepage
  \thispagestyle{empty}
  \null\vfill
  \begin{center}
    \bfseries\large\tugraz@titlefont \germanenglish{EIDESSTATTLICHE ERKL{\"{A}}RUNG}{AFFIDAVIT}
  \end{center}
  \smallskip

  \begin{quote}
    \germanenglish{%
    Ich erkl{\"{a}}re an Eides statt, dass ich die vorliegende Arbeit selbstst{\"{a}}ndig
    verfasst, andere als die angegebenen Quellen/Hilfsmittel nicht benutzt und
    die den benutzten Quellen w{\"{o}}rtlich und inhaltlich entnommenen Stellen als
    solche kenntlich gemacht habe. Das in TUGRAZonline hochgeladene Textdokument
    ist mit der vorliegenden
    \iftugraz@phd Dissertation \fi
    \iftugraz@msc Masterarbeit \fi
    \iftugraz@diplom Diplomarbeit \fi
    identisch.
    }{%
    I declare that I have authored this thesis independently, that I have not
    used other than the declared sources/resources, and that I have explicitly
    indicated all material which has been quoted either literally or by content
    from the sources used. The text document uploaded to TUGRAZonline is
    identical to the present
    \iftugraz@phd doctoral \fi
    \iftugraz@msc master's \fi
    \iftugraz@diplom diploma \fi
    thesis.
    }
    \vskip3cm

    \noindent\rule{\linewidth}{.5pt}\\
    \centering
    \fontsize{8pt}{10pt}\selectfont\germanenglish{Datum, Unterschrift}{Date, Signature}
  \end{quote}
  \vfill\null
  \cleardoublepage
}

%%%   IAIK GRAPHICAL ACRONYM   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\providecommand{\iaiklogoscaled}[1][11.5mm]{\resizebox{#1}{!}{\iaiklogo}}
\definecolor{iaikgray}{RGB}{213,213,214}
\colorlet{iaiktug}{tug}
\newcommand{\iaiklogo}{%{{{
  \tikzsetnextfilename{iaiklogo}%
  \begin{tikzpicture}[y=-0.80pt, x=0.80pt, inner sep=0pt, outer sep=0pt]
    \begin{scope}[cm={{1.33333,0.0,0.0,-1.33333,(0.0,1065.8267)}}]
      \begin{scope}[shift={(64.1961,387.2106)}]
        \path[fill=iaikgray,nonzero rule]
        (0.0000,0.0000) -- (-64.1960,49.6520) -- (-64.1960,-6.2650) -- (0.0760,-50.3060) -- (-64.1960,-50.3060) -- (-64.1960,-92.3500) -- (105.8820,-92.3500) -- (105.8820,-50.3060) -- (64.3800,-50.3060) -- (35.9380,-28.5840) -- (105.8820,0.1030) -- (105.8820,51.8800) -- cycle
        (-64.1960,-164.8370) -- (105.8820,-164.8370) -- (105.8820,-122.7000) -- (-64.1960,-122.7000) -- cycle
        (-64.1960,-231.0000) -- (-64.1960,-276.8620) -- (105.8820,-328.0010) -- (105.8820,-285.0730) -- (77.8080,-278.4410) -- (77.8080,-230.7080) -- (105.8820,-223.9010) -- (105.8820,-179.8730) -- cycle
        (-20.1110,-254.4480) -- (41.0300,-239.4290) -- (41.0300,-269.3080) -- cycle
        (-64.1960,-386.6590) -- (105.8820,-386.6590) -- (105.8820,-344.5210) -- (-64.1960,-344.5210) -- cycle
        ;
      \end{scope}
      \begin{scope}[shift={(154.4448,600.9453)}]
        \path[fill=iaiktug,nonzero rule] (0.0000,0.0000) -- (-11.8420,-13.1670) -- (-11.8420,0.0000) -- (-23.1460,0.0000) -- (-23.1460,-34.4440) -- (-35.3950,-34.4440) -- (-35.3950,0.0000) -- (-46.7250,0.0000) -- (-46.7250,-34.4440) -- (-55.0130,-34.4440) -- (-68.6030,0.0000) -- (-80.9330,0.0000) -- (-94.5260,-34.4440) -- (-103.2140,-34.4440) -- (-103.2140,0.0000) -- (-114.5440,0.0000) -- (-114.5440,-34.4440) -- (-126.0980,-34.4440) -- (-126.0980,0.0000) -- (-154.4440,0.0000) -- (-154.4440,-170.0790) -- (15.6340,-170.0790) -- (15.6340,-34.4440) -- (15.3780,-34.4440) -- (1.6850,-13.1520) -- (15.0340,0.0000) -- cycle
        (-74.9070,-9.0320) -- (-70.8690,-21.5570) -- (-78.9030,-21.5570) -- cycle
        (-11.8420,-26.3400) -- (-6.0000,-20.5140) -- (1.4990,-34.4440) -- (-11.8420,-34.4440) -- cycle
        (-81.3580,-29.0910) -- (-68.5230,-29.0910) -- (-66.8200,-34.4440) -- (-83.0190,-34.4440) -- cycle
        ;
      \end{scope}
    \end{scope}
  \end{tikzpicture}
}%}}}
